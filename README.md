# Monitoring Stack (Grafana + Prometheus + Exporters + Alertmanager)

–≠—Ç–æ—Ç `docker-compose.yml` –ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–≤—ã–π —Å—Ç–µ–∫ –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.  
–í–∫–ª—é—á–µ–Ω—ã Grafana, Prometheus, Node Exporter, cAdvisor, Alertmanager —Å Telegram-–±–æ—Ç–æ–º –∏ Blackbox Exporter.

---

## –°–µ—Ä–≤–∏—Å—ã

### üìä Grafana
- –û–±—Ä–∞–∑: `grafana/grafana:latest`
- –ü–æ—Ä—Ç: `3000`
- –î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume‚Äô–∞—Ö (`grafana-data`, `grafana-configs`).
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫.

### üìà Prometheus
- –û–±—Ä–∞–∑: `prom/prometheus:latest`
- –ü–æ—Ä—Ç: `9090`
- –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ volume `prom-data`.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ—Ä—ë—Ç—Å—è –∏–∑ `prom-configs`.
- –°–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç Node Exporter, cAdvisor, Blackbox –∏ –¥—Ä—É–≥–∏—Ö —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Alertmanager –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### üê≥ cAdvisor
- –û–±—Ä–∞–∑: `gcr.io/cadvisor/cadvisor:latest`
- –ü–æ—Ä—Ç: `8080`
- –°–Ω–∏–º–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (CPU, –ø–∞–º—è—Ç—å, I/O).

### üß∞ Node Exporter
- –û–±—Ä–∞–∑: `prom/node-exporter:latest`
- –ü–æ—Ä—Ç: `9100`
- –°–Ω–∏–º–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å —Ö–æ—Å—Ç–∞ (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫–∏, —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, —Å–µ—Ç—å).
- –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`/proc`, `/sys`, `/`).

### üåê Blackbox Exporter
- –û–±—Ä–∞–∑: `prom/blackbox-exporter`
- –ü–æ—Ä—Ç: `9115`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (HTTP, HTTPS, TCP, ICMP).
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ—Ä—ë—Ç—Å—è –∏–∑ volume `blackbox`.

### üì¢ Alertmanager
- –û–±—Ä–∞–∑: `prom/alertmanager:latest`
- –ü–æ—Ä—Ç: `9093`
- –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∞–ª–µ—Ä—Ç–æ–≤ –æ—Ç Prometheus.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ volume `alertmanager`.

### ü§ñ Alertmanager Bot
- –û–±—Ä–∞–∑: `metalmatze/alertmanager-bot:latest`
- –ü–æ—Ä—Ç: `8081`
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Alertmanager –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram.
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  - `TELEGRAM_ADMIN` ‚Äî ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - `TELEGRAM_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
- –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ volume `alert-data`.

### üíæ Redis
- –û–±—Ä–∞–∑: `redis:latest`
- –ü–æ—Ä—Ç: `6379`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö).

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `docker-compose.yml` –∏ `README.md` –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ volumes (–æ–Ω–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ).
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ç–µ–∫:
   ```bash
   docker-compose up -d

## –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–æ–≤:

Grafana ‚Üí http://localhost:3000
 (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: admin / admin).

Prometheus ‚Üí http://localhost:9090

Alertmanager ‚Üí http://localhost:9093

Node Exporter ‚Üí http://localhost:9100

cAdvisor ‚Üí http://localhost:8080

Blackbox ‚Üí http://localhost:9115

## Volumes

grafana-data ‚Äî –¥–∞–Ω–Ω—ã–µ Grafana

grafana-configs ‚Äî –∫–æ–Ω—Ñ–∏–≥–∏ Grafana

prom-data ‚Äî –¥–∞–Ω–Ω—ã–µ Prometheus

prom-configs ‚Äî –∫–æ–Ω—Ñ–∏–≥–∏ Prometheus

alert-data ‚Äî –¥–∞–Ω–Ω—ã–µ Alertmanager Bot

alertmanager ‚Äî –∫–æ–Ω—Ñ–∏–≥–∏ –∏ –¥–∞–Ω–Ω—ã–µ Alertmanager

blackbox ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Blackbox Exporter

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏ Prometheus (prometheus.yml), Alertmanager (config.yml) –∏ Blackbox (blackbox.yml).

–î–ª—è —Ä–∞–±–æ—Ç—ã Telegram-–±–æ—Ç–∞ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ TELEGRAM_ADMIN –∏ TELEGRAM_TOKEN.

–ü–∞—Ä–æ–ª—å Grafana —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞.
